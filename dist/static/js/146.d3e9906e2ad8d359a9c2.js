webpackJsonp([146],{MR8E:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"videoReply",components:{BreadCrumb:a("ZPfm").a},data:function(){return{breadData:[{id:1,name:"视频",urls:"/index/video/video",icon:"icon-home"},{id:2,name:"视频调查",urls:"/index/video/videoReply",icon:"icon-home"}],startTime:null,endTime:null,topicSearch:null,userNameSearch:null,nickNameSearch:null,serachObj:{},tableData:[],total:null}},mounted:function(){this.getVideoList()},methods:{handleSeeVideo:function(e){console.log(e),console.log(this.Urls.frontUrl),window.open(this.Urls.frontUrl+"home/videoDetail?video="+e.video_id)},handlePersonal:function(e){window.open(this.Urls.frontUrl+"home/others-users?uid="+e.created_id)},handleSearchTitle:function(){console.log(this.topicSearch),this.getVideoList()},handleSearchUserName:function(){console.log(this.userNameSearch),this.getVideoList()},handleSearchNickName:function(){console.log(this.nickNameSearch),this.getVideoList()},getVideoList:function(){var e=this;this.HttpClient.post("/admin/videos/getList",{start_time:this.serachObj.startTime,end_time:this.serachObj.endTime,nickname:this.serachObj.nickNameSearch,username:this.serachObj.userNameSearch,title:this.serachObj.topicSearch}).then(function(t){console.log(t),e.tableData=t.data.data.data,e.total=t.data.data.total})},searchTitle:function(e){},searchUserName:function(e){},searchNickName:function(e){},handleStartTime:function(e){console.log(this.startTime,this.endTime),this.getVideoList(this.startTime,this.endTime,this.nickNameSearch,this.userNameSearch,this.topicSearch)},handleEndTime:function(e){console.log(this.startTime,this.endTime),this.getVideoList(this.startTime,this.endTime,this.nickNameSearch,this.userNameSearch,this.topicSearch)},filterPlate:function(e,t,a){return t[a.property]===e},filterSecondary:function(e,t,a){return t[a.property]===e},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},currentChange:function(e){this.currentPage=e,this.getVideoList()}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"videoSurvey"},[a("BreadCrumb",{staticClass:"bread",attrs:{breadData:e.breadData}}),e._v(" "),a("div",{staticClass:"videoReply_main"},[e._m(0),e._v(" "),a("div",{staticClass:"reply_header"},[a("div",{staticClass:"reply_select"},[a("div",{staticClass:"date_item"},[a("p",{staticClass:"date_label"},[e._v("开始")]),e._v(" "),a("el-date-picker",{staticClass:"date_picker_1",attrs:{type:"date",size:"mini",placeholder:"选择日期"},on:{change:function(t){e.handleStartTime(t)}},model:{value:e.serachObj.startTime,callback:function(t){e.$set(e.serachObj,"startTime",t)},expression:"serachObj.startTime"}})],1),e._v(" "),a("div",{staticClass:"date_item"},[a("p",{staticClass:"date_label"},[e._v("截止")]),e._v(" "),a("el-date-picker",{staticClass:"date_picker_1",attrs:{type:"date",size:"mini",placeholder:"选择日期"},on:{change:function(t){e.handleEndTime(t)}},model:{value:e.serachObj.endTime,callback:function(t){e.$set(e.serachObj,"endTime",t)},expression:"serachObj.endTime"}})],1)]),e._v(" "),a("div",{staticClass:"reply_search"},[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"视频标题搜索",clearable:""},on:{input:function(t){e.searchTitle(t)},clear:e.getVideoList},model:{value:e.serachObj.topicSearch,callback:function(t){e.$set(e.serachObj,"topicSearch",t)},expression:"serachObj.topicSearch"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.handleSearchTitle()}},slot:"append"})],1)],1),e._v(" "),a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"用户名搜索",clearable:""},on:{input:function(t){e.searchUserName(t)},clear:e.getVideoList},model:{value:e.serachObj.userNameSearch,callback:function(t){e.$set(e.serachObj,"userNameSearch",t)},expression:"serachObj.userNameSearch"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.handleSearchUserName()}},slot:"append"})],1)],1),e._v(" "),a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"昵称搜索",clearable:""},on:{input:function(t){e.searchNickName(t)},clear:e.getVideoList},model:{value:e.serachObj.nickNameSearch,callback:function(t){e.$set(e.serachObj,"nickNameSearch",t)},expression:"serachObj.nickNameSearch"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.handleSearchNickName()}},slot:"append"})],1)],1)])]),e._v(" "),a("div",{staticClass:"reply_content_box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:!0}},[a("el-table-column",{attrs:{label:"ID",align:"center",width:"65",prop:"id",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"视频标题",align:"center","show-overflow-tooltip":"",width:"180",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"昵称",align:"center","show-overflow-tooltip":"",width:"120",prop:"nickname"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",align:"center","show-overflow-tooltip":"",width:"120",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属板块",align:"center","show-overflow-tooltip":"",filters:[{text:"汽车",value:"汽车"},{text:"摩托车",value:"摩托车"}],"filter-method":e.filterSecondary,width:"100",prop:"category_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"视频类别",align:"center","show-overflow-tooltip":"",filters:[{text:"普通视频",value:null},{text:"教程视频",value:1}],"filter-method":e.filterSecondary,prop:"is_course",width:"125"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_course||null===t.row.is_course?a("span",[e._v("普通视频")]):e._e(),e._v(" "),0!==t.row.is_course&&null!=t.row.is_course?a("span",[e._v("教程视频")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center","show-overflow-tooltip":"",width:"180",prop:"created_at",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览次数排列",align:"center","show-overflow-tooltip":"",width:"100",prop:"view_num",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"点赞次数排列",align:"center","show-overflow-tooltip":"",width:"100",prop:"like_num",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"讨论次数排列",align:"center","show-overflow-tooltip":"",width:"100",prop:"comment_num",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"视频完整度",align:"center","show-overflow-tooltip":"",width:"130",prop:"integrity",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.integrity?a("span",[e._v("暂无统计")]):e._e(),e._v(" "),null!==t.row.integrity?a("span",[e._v(e._s(t.row.integrity)+"%")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right","min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){e.handleSeeVideo(t.row)}}},[e._v("查看视频")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){e.handlePersonal(t.row)}}},[e._v("进入个人主页")])]}}])})],1)],1),e._v(" "),e.total?a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total,"page-size":25},on:{"current-change":e.currentChange}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("p",[this._v("视频调查")])])}]};var n=a("VU/8")(i,l,!1,function(e){a("iozN")},null,null);t.default=n.exports},iozN:function(e,t){}});
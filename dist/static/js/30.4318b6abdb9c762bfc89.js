webpackJsonp([30],{"V+1a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("lW2H"),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"serviceData"},[i("BreadCrumb",{staticClass:"bread",attrs:{breadData:e.breadData}}),e._v(" "),i("div",{staticClass:"serviceData_main"},[e._m(0),e._v(" "),i("div",{staticClass:"serviceData_content"},[i("div",[i("div",{staticClass:"service_table"},[i("div",{staticClass:"table_title"},[i("i",{staticClass:"iconfont icon-star"}),e._v("\n            服务总数 "+e._s(e.serviceTotal)+"\n          ")]),e._v(" "),i("div",{staticClass:"table_box"},e._l(e.serviceData,function(t){return i("div",{key:t.id,staticClass:"table_box_list"},[i("p",[e._v(e._s(t.name))]),e._v(" "),i("p",[e._v(e._s(t.number))])])}))]),e._v(" "),i("div",[i("div",{staticClass:"service_table"},[e._m(1),e._v(" "),i("div",{staticClass:"table_box"},e._l(e.floderData,function(t){return i("div",{key:t.id,staticClass:"table_box_list"},[i("p",[i("el-radio-group",{attrs:{size:"small"},on:{change:e.folderIDchange},model:{value:e.folderID,callback:function(t){e.folderID=t},expression:"folderID"}},[i("el-radio",{attrs:{label:t.menu_id,border:""}},[e._v(e._s(t.name))])],1)],1),e._v(" "),i("p",[e._v(e._s(t.services))]),e._v(" "),i("p",[e._v(e._s(0==e.floderDatatotal?0:t.services/e.floderDatatotal*100)+"%")])])}))])]),e._v(" "),""!=e.folderID?i("div",{staticClass:"service_table servicemenu_table"},[e._m(2),e._v(" "),0!==e.nextmenuData.length?i("div",{staticClass:"table_box"},e._l(e.nextmenuData,function(t){return i("div",{key:t.id,staticClass:"table_box_list"},[i("p",[i("el-radio",{attrs:{label:t.menu_id,border:""}},[e._v(e._s(t.name))])],1),e._v(" "),i("p",[e._v(e._s(t.services))]),e._v(" "),i("p",[e._v(e._s(0==e.nextmenuDatatotal?0:t.services/e.nextmenuDatatotal*100)+"%")])])})):e._e(),e._v(" "),0==e.nextmenuData.length?i("div",{staticClass:"table_box"},[e._m(3)]):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"service_chart"},[i("div",{staticClass:"conditions"},[i("div",{staticClass:"date_item"},[i("p",{staticClass:"date_label"},[e._v("开始")]),e._v(" "),i("el-date-picker",{staticClass:"date_picker_1",attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),i("div",{staticClass:"date_item"},[i("p",{staticClass:"date_label"},[e._v("截止")]),e._v(" "),i("el-date-picker",{staticClass:"date_picker_1",attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期","picker-options":e.pickerOptions},on:{change:e.getServiceDataByDate},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)]),e._v(" "),i("div",{staticClass:"shape_content"},[i("div",{staticClass:"shape_header"},[i("div",{staticClass:"shape_header_left"},[i("p",{staticClass:"left_title"},[e._v("服务数量曲线图")]),e._v(" "),i("div",{staticClass:"time_range"},[i("span",[e._v(e._s(e.startTime.split(" ")[0]))]),e._v(" "),i("span",[e._v("---")]),e._v(" "),i("span",[e._v(e._s(e.endTime.split(" ")[0]))])])]),e._v(" "),i("div",{staticClass:"shape_header_right"},[i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color1"}),e._v(" "),i("p",[e._v("汽车占"+e._s(e.carActivity.percent)+"%")])]),e._v(" "),i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color2"}),e._v(" "),i("p",[e._v("摩托车占"+e._s(e.motorActivity.percent)+"%")])]),e._v(" "),i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color3"}),e._v(" "),i("p",[e._v("无人机占"+e._s(e.planeActivity.percent)+"%")])]),e._v(" "),i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color4"}),e._v(" "),i("p",[e._v("智能设备占"+e._s(e.intelligentActivity.percent)+"%")])])])]),e._v(" "),i("div",{style:{width:"100%",height:"400px"},attrs:{id:"myChart"}})])])]),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"service_table"},[i("div",{staticClass:"table_title"},[i("i",{staticClass:"iconfont icon-star"}),e._v("\n            服务浏览量总数 "+e._s(e.serviceviewTotal)+"\n          ")]),e._v(" "),i("div",{staticClass:"table_box"},e._l(e.serviceData,function(t){return i("div",{key:t.id,staticClass:"table_box_list"},[i("p",[e._v(e._s(t.name))]),e._v(" "),i("p",[e._v(e._s(t.numberview))])])}))]),e._v(" "),i("div",[i("div",{staticClass:"service_table"},[e._m(4),e._v(" "),i("div",{staticClass:"table_box"},e._l(e.floderData,function(t){return i("div",{key:t.id,staticClass:"table_box_list"},[i("p",[i("el-radio-group",{attrs:{size:"small"},on:{change:e.folderviewIDchange},model:{value:e.folderviewID,callback:function(t){e.folderviewID=t},expression:"folderviewID"}},[i("el-radio",{attrs:{label:t.menu_id,border:""}},[e._v(e._s(t.name))])],1)],1),e._v(" "),i("p",[e._v(e._s(t.services_view))]),e._v(" "),i("p",[e._v(e._s(0==e.floderviewDatatotal?0:t.services_view/e.floderviewDatatotal*100)+"%")])])}))])]),e._v(" "),""!=e.folderviewID?i("div",{staticClass:"service_table servicemenu_table"},[e._m(5),e._v(" "),0!==e.nextmenuData.length?i("div",{staticClass:"table_box"},e._l(e.nextmenuData,function(t){return i("div",{key:t.id,staticClass:"table_box_list"},[i("p",[i("el-radio",{attrs:{label:t.menu_id,border:""}},[e._v(e._s(t.name))])],1),e._v(" "),i("p",[e._v(e._s(t.services_view))]),e._v(" "),i("p",[e._v(e._s(0==e.nextmenuviewDatatotal?0:t.services_view/e.nextmenuviewDatatotal*100)+"%")])])})):e._e(),e._v(" "),0==e.nextmenuData.length?i("div",{staticClass:"table_box"},[e._m(6)]):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"service_chart"},[i("div",{staticClass:"conditions"},[i("div",{staticClass:"date_item"},[i("p",{staticClass:"date_label"},[e._v("开始")]),e._v(" "),i("el-date-picker",{staticClass:"date_picker_1",attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.startviewTime,callback:function(t){e.startviewTime=t},expression:"startviewTime"}})],1),e._v(" "),i("div",{staticClass:"date_item"},[i("p",{staticClass:"date_label"},[e._v("截止")]),e._v(" "),i("el-date-picker",{staticClass:"date_picker_1",attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期","picker-options":e.pickerOptions},on:{change:e.getServiceDataviewByDate},model:{value:e.endviewTime,callback:function(t){e.endviewTime=t},expression:"endviewTime"}})],1)]),e._v(" "),i("div",{staticClass:"shape_content"},[i("div",{staticClass:"shape_header"},[i("div",{staticClass:"shape_header_left"},[i("p",{staticClass:"left_title"},[e._v("服务浏览量曲线图")]),e._v(" "),i("div",{staticClass:"time_range"},[i("span",[e._v(e._s(e.startviewTime.split(" ")[0]))]),e._v(" "),i("span",[e._v("---")]),e._v(" "),i("span",[e._v(e._s(e.endviewTime.split(" ")[0]))])])]),e._v(" "),i("div",{staticClass:"shape_header_right"},[i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color1"}),e._v(" "),i("p",[e._v("汽车占"+e._s(e.carviewActivity.percent)+"%")])]),e._v(" "),i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color2"}),e._v(" "),i("p",[e._v("摩托车占"+e._s(e.motorviewActivity.percent)+"%")])]),e._v(" "),i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color3"}),e._v(" "),i("p",[e._v("无人机占"+e._s(e.planeviewActivity.percent)+"%")])]),e._v(" "),i("div",{staticClass:"right_items"},[i("div",{staticClass:"point color4"}),e._v(" "),i("p",[e._v("智能设备占"+e._s(e.intelligentviewActivity.percent)+"%")])])])]),e._v(" "),i("div",{style:{width:"100%",height:"400px"},attrs:{id:"myviewChart"}})])])])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("p",[this._v("服务数据")]),this._v(" "),t("p",[t("i",{staticClass:"iconfont icon-shuaxin"}),this._v("\n        刷新\n      ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table_title"},[t("i",{staticClass:"iconfont icon-star"}),this._v("\n            板块目录\n          ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table_title table_titlebox"},[t("i",{staticClass:"iconfont icon-star"}),this._v("\n            二级目录\n          ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table_box_list"},[t("p",[this._v("暂无数据")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table_title"},[t("i",{staticClass:"iconfont icon-star"}),this._v("\n            板块目录\n          ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table_title table_titlebox"},[t("i",{staticClass:"iconfont icon-star"}),this._v("\n            二级目录\n          ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table_box_list"},[t("p",[this._v("暂无数据")])])}]};var n=function(e){i("udM1")},_=i("VU/8")(a.a,s,!1,n,null,null);t.default=_.exports},lW2H:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__=__webpack_require__("bOdI"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__),__WEBPACK_IMPORTED_MODULE_1__components_public_BreadCrumb__=__webpack_require__("ZPfm"),__WEBPACK_IMPORTED_MODULE_2_echarts__=__webpack_require__("XLwt"),__WEBPACK_IMPORTED_MODULE_2_echarts___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_echarts__);__webpack_exports__.a={name:"ServiceData",data:function(){var e,t=this;return e={folderID:"",floderData:[],nextmenuData:[],nextmenuDatatotal:0,floderDatatotal:0,folderviewID:"",nextmenuviewDatatotal:0,floderviewDatatotal:0,pickerOptions:{disabledDate:function(e){return(e.getTime()-new Date(t.startTime).getTime())/1e3/60/60/24>31}}},__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"pickerOptions",{disabledDate:function(e){return(e.getTime()-new Date(t.startviewTime).getTime())/1e3/60/60/24>31}}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"breadData",[{id:1,name:"服务",urls:"/index/service/Service",icon:"icon-home"},{id:2,name:"服务数据",urls:"/index/service/ServiceData",icon:"icon-home"}]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceValue",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceChangeData",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"carMenuID",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"motorMenuID",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"planeMenuID",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"intelligentMenuID",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"startTime",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"endTime",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"startviewTime",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"endviewTime",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"userType",""),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"categoryContent",!1),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceData",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceTotal",0),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceviewTotal",0),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceDataByDate",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"carActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"motorActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"planeActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"intelligentActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"carviewActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"motorviewActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"planeviewActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"intelligentviewActivity",[]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceTotalviewByDate",0),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(e,"serviceTotalByDate",0),e},components:{BreadCrumb:__WEBPACK_IMPORTED_MODULE_1__components_public_BreadCrumb__.a},methods:{folderIDchange:function(){this.floderMenuData(this.folderID)},folderviewIDchange:function(){this.floderMenuData(this.folderviewID)},floderMenuData:function(e){var t=this,i={begin:this.startTime,end:this.endTime,type:6,folder_id:e};this.HttpClient.post("/admin/analysis/diagramWithMenu",i).then(function(e){console.log(e.data),200===e.data.code?(console.log(e.data.data),""!=t.folderID||""!=t.folderviewID?(t.nextmenuData=e.data.data,t.nextmenuData.forEach(function(e){t.nextmenuDatatotal+=e.services,t.nextmenuviewDatatotal+=e.services_view}),console.log(t.nextmenuDatatotal)):(t.floderData=e.data.data,t.floderData.forEach(function(e){t.floderDatatotal+=e.services,t.floderviewDatatotal+=e.services_view}),console.log(t.floderviewDatatotal))):""!=t.folderID||""!=t.folderviewID?t.nextmenuData=[]:t.floderData=[]})},serviceValueChange:function(){this.getServiceData()},drawLine:function drawLine(){var _this3=this,days=(new Date(this.endTime).getTime()-new Date(this.startTime).getTime())/1e3/60/60/24,begin=new Date(this.startTime).getDate(),year=new Date(this.startTime).getFullYear(),month=new Date(this.startTime).getMonth()+1,dates=[],monthDay=0;switch(month){case 1:monthDay=31;break;case 2:monthDay=year%400==0||year%4==0&&year%100!=0?29:28;break;case 3:monthDay=31;break;case 4:monthDay=30;break;case 5:monthDay=31;break;case 6:monthDay=30;break;case 7:case 8:monthDay=31;break;case 9:monthDay=30;break;case 10:monthDay=31;break;case 11:monthDay=30;break;case 12:monthDay=31}for(var i=0;i<days;i++)begin+i>monthDay?dates.push(begin+i-monthDay):dates.push(begin+i);var car=[],motorcycle=[],plane=[],intelligent=[];dates.map(function(e){var t=0,i=0,a=0,s=0;e=_this3.initFormat(e),_this3.carActivity.map(function(i){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(i.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(i.created_at.split(" ")[0]).getTime()||(t+=Number(i.services))}),_this3.motorActivity.map(function(t){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()||(i+=Number(t.services))}),_this3.planeActivity.map(function(t){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()||(a+=Number(t.services))}),_this3.intelligentActivity.map(function(t){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()||(s+=Number(t.services))}),car.push(t),motorcycle.push(i),plane.push(a),intelligent.push(s)}),this.carActivity.total=eval(car.join("+")),this.motorActivity.total=eval(motorcycle.join("+")),this.planeActivity.total=eval(plane.join("+")),this.intelligentActivity.total=eval(intelligent.join("+")),this.serviceTotalByDate=this.carActivity.total+this.motorActivity.total+this.planeActivity.total+this.intelligentActivity.total,this.carActivity.percent=Number((this.carActivity.total/this.serviceTotalByDate*100).toFixed(2)),this.motorActivity.percent=Number((this.motorActivity.total/this.serviceTotalByDate*100).toFixed(2)),this.planeActivity.percent=Number((this.planeActivity.total/this.serviceTotalByDate*100).toFixed(2)),this.intelligentActivity.percent=Number((this.intelligentActivity.total/this.serviceTotalByDate*100).toFixed(2));var myChart=__WEBPACK_IMPORTED_MODULE_2_echarts___default.a.init(document.getElementById("myChart"));myChart.setOption({tooltip:{trigger:"axis"},xAxis:{type:"category",data:dates},yAxis:{type:"value"},series:[{itemStyle:{normal:{color:"#009efb",lineStyle:{color:"#009efb"}}},name:"汽车",type:"line",smooth:!0,data:car},{itemStyle:{normal:{color:"#55ce63",lineStyle:{color:"#55ce63"}}},name:"摩托车",type:"line",smooth:!0,data:motorcycle},{itemStyle:{normal:{color:"#ff7676",lineStyle:{color:"#ff7676"}}},name:"无人机",type:"line",smooth:!0,data:plane},{itemStyle:{normal:{color:"#FFB82E",lineStyle:{color:"#FFB82E"}}},name:"智能设备",data:intelligent,type:"line",smooth:!0}]})},getServiceData:function(){var e=this;this.HttpClient.post("/admin/analysis/numCache",{type:6,folder_id:this.serviceValue}).then(function(t){200===t.data.code&&(e.serviceData=t.data.data,""!=e.serviceValue&&(e.serviceChangeData=t.data.data),e.serviceData.map(function(t){"汽车"==t.name?e.carMenuID=t.menu_id:"摩托"==t.name?e.motorMenuID=t.menu_id:"模型"==t.name?e.planeMenuID=t.menu_id:"智能设备"==t.name&&(e.intelligentMenuID=t.menu_id),t.number=0,t.numberview=0,t.number+=Number(t.analysis.company_services),t.number+=Number(t.analysis.normal_services),t.number+=Number(t.analysis.normal_company_services),t.numberview+=Number(t.analysis.company_services_view),t.numberview+=Number(t.analysis.normal_services_view),t.numberview+=Number(t.analysis.normal_company_services_view),e.serviceTotal+=t.number,e.serviceviewTotal+=t.numberview}))})},getServiceDataByDate:function(){var e=this;this.HttpClient.post("/admin/analysis/diagram",{type:6,begin:this.startTime,end:this.endTime}).then(function(t){200===t.data.code&&(e.serviceDataByDate=t.data.data,e.carActivity=[],e.motorActivity=[],e.planeActivity=[],e.intelligentActivity=[],t.data.data.map(function(t){t.folder_type===e.carMenuID?e.carActivity.push(t):t.folder_type===e.motorMenuID?e.motorActivity.push(t):t.folder_type===e.planeMenuID?e.planeActivity.push(t):t.folder_type===e.intelligentMenuID&&e.intelligentActivity.push(t)}),e.drawLine())})},getServiceDataviewByDate:function(){var e=this;this.HttpClient.post("/admin/analysis/diagram",{type:6,begin:this.startviewTime,end:this.endviewTime}).then(function(t){200===t.data.code&&(e.serviceDataByDate=t.data.data,e.carviewActivity=[],e.motorviewActivity=[],e.planeviewActivity=[],e.intelligentviewActivity=[],t.data.data.map(function(t){t.folder_type===e.carMenuID?e.carviewActivity.push(t):t.folder_type===e.motorMenuID?e.motorviewActivity.push(t):t.folder_type===e.planeMenuID?e.planeviewActivity.push(t):t.folder_type===e.intelligentMenuID&&e.intelligentviewActivity.push(t)}),e.drawviewLine())})},drawviewLine:function drawviewLine(){var _this7=this,days=(new Date(this.endviewTime).getTime()-new Date(this.startviewTime).getTime())/1e3/60/60/24,begin=new Date(this.startviewTime).getDate(),year=new Date(this.startviewTime).getFullYear(),month=new Date(this.startviewTime).getMonth()+1,dates=[],monthDay=0;switch(month){case 1:monthDay=31;break;case 2:monthDay=year%400==0||year%4==0&&year%100!=0?29:28;break;case 3:monthDay=31;break;case 4:monthDay=30;break;case 5:monthDay=31;break;case 6:monthDay=30;break;case 7:case 8:monthDay=31;break;case 9:monthDay=30;break;case 10:monthDay=31;break;case 11:monthDay=30;break;case 12:monthDay=31}for(var i=0;i<days;i++)begin+i>monthDay?dates.push(begin+i-monthDay):dates.push(begin+i);var carview=[],motorcycleview=[],planeview=[],intelligentview=[];dates.map(function(e){var t=0,i=0,a=0,s=0;e=_this7.initFormat(e),_this7.carviewActivity.map(function(i){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(i.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(i.created_at.split(" ")[0]).getTime()||(t+=Number(i.services_view))}),_this7.motorviewActivity.map(function(t){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()||(i+=Number(t.services_view))}),_this7.planeviewActivity.map(function(t){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()||(a+=Number(t.services_view))}),_this7.intelligentviewActivity.map(function(t){new Date(year+"-"+(month<10?"0"+month:month)+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()&&new Date((month>=12?year+1+"-01":year+"-"+(month<10?"0"+(month+1):month+1))+"-"+e).getTime()!==new Date(t.created_at.split(" ")[0]).getTime()||(s+=Number(t.services_view))}),carview.push(t),motorcycleview.push(i),planeview.push(a),intelligentview.push(s)}),this.carviewActivity.total=eval(carview.join("+")),this.motorviewActivity.total=eval(motorcycleview.join("+")),this.planeviewActivity.total=eval(planeview.join("+")),this.intelligentviewActivity.total=eval(intelligentview.join("+")),this.serviceTotalviewByDate=this.carviewActivity.total+this.motorviewActivity.total+this.planeviewActivity.total+this.intelligentviewActivity.total,this.carviewActivity.percent=Number((this.carviewActivity.total/this.serviceTotalviewByDate*100).toFixed(2)),this.motorviewActivity.percent=Number((this.motorviewActivity.total/this.serviceTotalviewByDate*100).toFixed(2)),this.planeviewActivity.percent=Number((this.planeviewActivity.total/this.serviceTotalviewByDate*100).toFixed(2)),this.intelligentviewActivity.percent=Number((this.intelligentviewActivity.total/this.serviceTotalviewByDate*100).toFixed(2));var myviewChart=__WEBPACK_IMPORTED_MODULE_2_echarts___default.a.init(document.getElementById("myviewChart"));myviewChart.setOption({tooltip:{trigger:"axis"},xAxis:{type:"category",data:dates},yAxis:{type:"value"},series:[{itemStyle:{normal:{color:"#009efb",lineStyle:{color:"#009efb"}}},name:"汽车",type:"line",smooth:!0,data:carview},{itemStyle:{normal:{color:"#55ce63",lineStyle:{color:"#55ce63"}}},name:"摩托车",type:"line",smooth:!0,data:motorcycleview},{itemStyle:{normal:{color:"#ff7676",lineStyle:{color:"#ff7676"}}},name:"无人机",type:"line",smooth:!0,data:planeview},{itemStyle:{normal:{color:"#FFB82E",lineStyle:{color:"#FFB82E"}}},name:"智能设备",data:intelligentview,type:"line",smooth:!0}]})},initFormat:function(e){return e<10&&(e="0"+e),e},initDateValue:function(e){var t=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),s=e.getHours(),n=e.getMinutes(),_=e.getSeconds();return t+"-"+(i=this.initFormat(i))+"-"+(a=this.initFormat(a))+" "+(s=this.initFormat(s))+":"+(n=this.initFormat(n))+":"+(_=this.initFormat(_))}},created:function(){var e=this.initDateValue(new Date).split("-");"01"==e[1]?(e[0]=e[0]-1,e[1]="12"):e[1]=e[1]-1,e.join("-"),this.startTime=e.join("-"),this.endTime=this.initDateValue(new Date),this.startviewTime=e.join("-"),this.endviewTime=this.initDateValue(new Date),console.log(this.startTime),this.floderMenuData(),this.getServiceData(),this.getServiceDataByDate(),this.getServiceDataviewByDate()}}},udM1:function(e,t){}});
webpackJsonp([182],{"8evC":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={name:"PageUploadEncyclopedias",components:{BreadCrumb:e("ZPfm").a},data:function(){return{breadData:[{id:1,name:"页面",urls:"/index/page/Page",icon:"icon-home"},{id:2,name:"页面管理",urls:"/index/page/pageManagement/PageManagement",icon:"icon-home"},{id:3,name:"上传菜单",urls:"/index/page/pageManagement/uploadMenu/UploadMenu",icon:"icon-home"},{id:4,name:"上传百科",urls:"/index/page/pageManagement/uploadMenu/PageUploadEncyclopedias",icon:"icon-home"}],plateRadio:"",plateData:[],childData:[],itemValue:{},itemValueName:"",itemValueDes:"",addName:"",adddesinfo:"",childpid:null,plateBox:!1,plateName:"基础理论、设计、 模拟",plateDescription:"123465791234657981654641",addPlateDialog:!1,modifyPlateDialog:!1}},mounted:function(){this.getTypedata()},methods:{getTypedata:function(){var t=this;this.HttpClient.post("/admin/menu/getList",{menu_type:2,type:1}).then(function(a){if(console.log(a.data.data),200==a.data.code)for(var e in t.plateData=a.data.data,t.plateData)if(t.plateData.hasOwnProperty(e)){var i=t.plateData[e];i.menu_id==t.plateRadio&&(t.childData=i.child,t.childpid=i.id)}})},addNewInfo:function(){var t=this,a={menu_type:2,name:this.addName,description:this.adddesinfo,pid:this.childpid,type:1};this.HttpClient.post("/admin/menu/create",a).then(function(a){console.log(a.data),200==a.data.code&&(t.$message.success(a.data.msg),t.addPlateDialog=!1,t.addName="",t.adddesinfo="",setTimeout(function(){t.getTypedata()},500))})},plateStatusBtm:function(t){var a=this,e={menu_type:2,id:t.id,status:1==t.status?0:1};this.HttpClient.post("/admin/menu/changeStatus",e).then(function(t){console.log(t.data),200===t.data.code&&(a.$message.success(t.data.msg),setTimeout(function(){a.getTypedata()},500))})},modifyInfo:function(t){console.log(t),this.itemValue=t,this.itemValueDes=t.description,this.itemValueName=t.name,this.modifyPlateDialog=!0},plateRadioBtm:function(){this.plateBox=!0,this.getTypedata(),console.log(this.plateRadio),console.log(this.plateData)},savemodifyInfo:function(){var t=this;console.log(this.itemValue);var a={id:this.itemValue.id,menu_type:2,name:this.itemValueName,description:this.itemValueDes,pid:this.itemValue.pid,type:1};this.HttpClient.post("/admin/menu/edit",a).then(function(a){console.log(a.data),200==a.data.code&&(t.$message.success(a.data.msg),t.modifyPlateDialog=!1,t.itemValueName="",t.itemValueDes="",setTimeout(function(){t.getTypedata()},500))})}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pageUploadEncyclopedias"},[e("BreadCrumb",{staticClass:"bread",attrs:{breadData:t.breadData}}),t._v(" "),e("div",{staticClass:"pageUploadEncyclopedias_main"},[t._m(0),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_header"},[e("p",[t._v("板块选择：")]),t._v(" "),t._l(t.plateData,function(a,i){return e("el-radio-group",{key:i,on:{change:t.plateRadioBtm},model:{value:t.plateRadio,callback:function(a){t.plateRadio=a},expression:"plateRadio"}},[e("el-radio",{attrs:{border:"",label:a.menu_id}},[t._v(t._s(a.name))])],1)})],2),t._v(" "),e("transition",{attrs:{name:"el-fade-in-linear"}},[t.plateBox?e("div",{staticClass:"content_box"},[e("div",{staticClass:"addBtm"},[e("p",[t._v("新增板块：")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.addPlateDialog=!0}}},[t._v("添加新板块")])],1),t._v(" "),e("div",{staticClass:"content_box_list"},t._l(t.childData,function(a,i){return e("div",{key:i,staticClass:"plate_list"},[e("div",{staticClass:"plate_name",on:{click:function(e){t.modifyInfo(a)}}},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"plate_status",on:{click:function(e){t.plateStatusBtm(a)}}},[1==a.status?e("el-button",{attrs:{type:"success"}},[t._v("恢复")]):t._e(),t._v(" "),0==a.status?e("el-button",{attrs:{type:"danger"}},[t._v("禁用")]):t._e()],1)])}))]):t._e()])],1)]),t._v(" "),e("el-dialog",{attrs:{width:"300px","custom-class":"plateDialog",visible:t.addPlateDialog},on:{"update:visible":function(a){t.addPlateDialog=a}}},[e("span",{staticClass:"plateDialog_title",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"iconfont icon-edit-square"}),t._v("添加版块\n    ")]),t._v(" "),e("div",{staticClass:"plateDialog_box"},[e("div",{staticClass:"box_list"},[e("p",[t._v("版块名称：")]),t._v(" "),e("el-input",{attrs:{placeholder:"输入版块名称"},model:{value:t.addName,callback:function(a){t.addName=a},expression:"addName"}})],1),t._v(" "),e("div",{staticClass:"box_list"},[e("p",[t._v("版块解释：")]),t._v(" "),e("el-input",{attrs:{type:"textarea",resize:"none",rows:3,placeholder:"输入版块解释"},model:{value:t.adddesinfo,callback:function(a){t.adddesinfo=a},expression:"adddesinfo"}})],1)]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.addPlateDialog=!1}}},[t._v("关 闭")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.addNewInfo}},[t._v("保 存")])],1)]),t._v(" "),e("el-dialog",{attrs:{width:"300px","custom-class":"plateDialog",visible:t.modifyPlateDialog},on:{"update:visible":function(a){t.modifyPlateDialog=a}}},[e("span",{staticClass:"plateDialog_title",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"iconfont icon-edit-square"}),t._v("修改版块\n    ")]),t._v(" "),e("div",{staticClass:"plateDialog_box"},[e("div",{staticClass:"box_list"},[e("p",[t._v("版块名称：")]),t._v(" "),e("el-input",{attrs:{placeholder:"输入版块名称"},model:{value:t.itemValueName,callback:function(a){t.itemValueName=a},expression:"itemValueName"}})],1),t._v(" "),e("div",{staticClass:"box_list"},[e("p",[t._v("版块解释：")]),t._v(" "),e("el-input",{attrs:{type:"textarea",resize:"none",rows:3,placeholder:"输入版块解释"},model:{value:t.itemValueDes,callback:function(a){t.itemValueDes=a},expression:"itemValueDes"}})],1)]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.modifyPlateDialog=!1}}},[t._v("关 闭")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.savemodifyInfo}},[t._v("保 存")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"title"},[a("p",[this._v("上传百科")])])}]};var l=e("VU/8")(i,s,!1,function(t){e("j4gA")},null,null);a.default=l.exports},j4gA:function(t,a){}});
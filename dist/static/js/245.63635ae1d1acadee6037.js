webpackJsonp([245],{FPD5:function(t,e){},cyWW:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("gRE1"),o=i.n(a),s={name:"ModelManagement",components:{BreadCrumb:i("ZPfm").a},data:function(){return{breadData:[{id:1,name:"功能控制",urls:"/index/functionControl/FunctionControl",icon:"icon-home"},{id:2,name:"商城菜单管理",urls:"/index/market/functionControl/professionalCatalog/ProfessionalCatalog",icon:"icon-home"},{id:3,name:"适用车型管理",urls:"/index/market/functionControl/professionalCatalog/AddDirectory",icon:"icon-home"}],carList:[],carCategory:null,modifyVisible:!1,inputa:null,inputb:null,inputc:null,firstLevelRadio:null,twoLevelRadio:null,threeLevelRadio:null,firstLevelDirectory:[],twoLevelDirectory:[],threeLevelDirectory:[],obj1:null,obj2:null,obj3:null,categoryName:null,currentObj:null,currentName:null}},mounted:function(){this.getlistMenu()},methods:{getlistMenu:function(){var t=this;this.HttpClient.post("/admin/menu/getList",{menu_type:1,type:0}).then(function(e){console.log(e.data),200===e.data.code&&(o()(e.data.data).forEach(function(e){"汽车"!==e.name&&"摩托车"!==e.name||t.carList.push(e)}),console.log(t.carList))})},handleChangeCarCategory:function(t){console.log(t),this.twoLevelDirectory=[],this.firstLevelRadio=null,this.threeLevelDirectory=[],this.twoLevelRadio=[],this.threeLevelRadio=[],this.getBrandList(t)},getBrandList:function(t){var e=this;this.HttpClient.post("/admin/product/brands/index",{menu_id:t}).then(function(t){console.log(t),e.firstLevelDirectory=t.data.data})},getSeriesList:function(t){var e=this;this.HttpClient.post("/admin/product/series/index",{brand_id:t}).then(function(t){console.log(t),e.twoLevelDirectory=t.data.data})},getConfigList:function(t){var e=this;this.HttpClient.post("/admin/product/config/index",{series_id:t}).then(function(t){console.log(t),e.threeLevelDirectory=t.data.data})},firstLevelBtm:function(t){console.log(t),this.obj1=t,this.twoLevelDirectory=[],this.twoLevelRadio=null,this.threeLevelDirectory=[],this.threeLevelRadio=null,this.getSeriesList(t.brand_id)},twoLevelBtm:function(t){console.log(t),this.obj2=t,this.threeLevelDirectory=[],this.threeLevelRadio=null,this.getConfigList(t.series_id)},threeLevelBtm:function(t){console.log(t)},handleModify:function(t,e){console.log(t,e),this.currentObj=t,this.currentName=e,this.categoryName=t.name,this.modifyVisible=!0},handlePrimary:function(){var t=this;console.log(this.categoryName,this.currentObj,this.carCategory),"品牌"===this.currentName?this.HttpClient.post("/admin/product/brands/edit",{id:this.currentObj.id,name:this.categoryName,menu_id:this.carCategory}).then(function(e){console.log(e),200===e.data.code&&(t.$message.success(e.data.msg),t.modifyVisible=!1,setTimeout(function(){t.getBrandList(t.carCategory)},1e3))}):"系列"===this.currentName?this.HttpClient.post("/admin/product/series/edit",{id:this.currentObj.id,name:this.categoryName,menu_id:this.carCategory}).then(function(e){console.log(e),200===e.data.code&&(t.$message.success(e.data.msg),t.modifyVisible=!1,setTimeout(function(){t.getSeriesList(t.obj1.brand_id)},1e3))}):"配置"===this.currentName&&this.HttpClient.post("/admin/product/config/edit",{id:this.currentObj.id,name:this.categoryName,series_id:this.obj2.series_id}).then(function(e){console.log(e),200===e.data.code&&(t.$message.success(e.data.msg),t.modifyVisible=!1,setTimeout(function(){t.getConfigList(t.obj2.series_id)},1e3))})},handleAddBrand:function(){var t=this;console.log(this.inputa,this.carCategory),this.HttpClient.post("/admin/product/brands/create",{name:this.inputa,menu_id:this.carCategory}).then(function(e){console.log(e),200===e.data.code&&(t.$message.success(e.data.msg),t.inputa="",setTimeout(function(){t.getBrandList(t.carCategory)},1e3))})},handleAddSeries:function(){var t=this;console.log(this.inputb,this.obj1),this.HttpClient.post("/admin/product/series/create",{name:this.inputb,brand_id:this.obj1.brand_id}).then(function(e){console.log(e),200===e.data.code&&(t.$message.success(e.data.msg),t.inputb="",setTimeout(function(){t.getSeriesList(t.obj1.brand_id)},1e3))})},handleAddConfig:function(){var t=this;console.log(this.inputc,this.obj2),this.HttpClient.post("/admin/product/config/create",{name:this.inputc,series_id:this.obj2.series_id}).then(function(e){console.log(e),200===e.data.code&&(t.$message.success(e.data.msg),t.inputc="",setTimeout(function(){t.getConfigList(t.obj2.series_id)},1e3))})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ModelManagement"},[i("BreadCrumb",{staticClass:"bread",attrs:{breadData:t.breadData}}),t._v(" "),i("div",{staticClass:"addDirectory_main"},[t._m(0),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"customer_type"},[i("div",{staticClass:"customer_select"},[t._v("适用车型管理")]),t._v(" "),i("div",{staticClass:"select"},[i("el-radio-group",{on:{change:function(e){t.handleChangeCarCategory(e)}},model:{value:t.carCategory,callback:function(e){t.carCategory=e},expression:"carCategory"}},t._l(t.carList,function(e,a){return i("el-radio-button",{key:a,attrs:{label:e.menu_id}},[t._v(t._s(e.name))])}))],1)]),t._v(" "),i("div",{staticClass:"all_categories"},[i("div",{staticClass:"categories_top"},[i("div",{staticClass:"top_title"},[t._v("对应品牌")]),t._v(" "),i("el-input",{attrs:{placeholder:"添加品牌"},model:{value:t.inputa,callback:function(e){t.inputa=e},expression:"inputa"}}),t._v(" "),i("el-button",{staticClass:"add_btn",on:{click:t.handleAddBrand}},[t._v("+")])],1),t._v(" "),i("div",{staticClass:"categories_bottom"},[i("el-radio-group",{on:{change:function(e){t.firstLevelBtm(e)}},model:{value:t.firstLevelRadio,callback:function(e){t.firstLevelRadio=e},expression:"firstLevelRadio"}},t._l(t.firstLevelDirectory,function(e,a){return i("div",{key:a,staticClass:"plate_list"},[i("el-radio-button",{attrs:{label:e}},[t._v(t._s(e.name))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.handleModify(e,"品牌")}}},[t._v("修改")])],1)}))],1)]),t._v(" "),i("div",{staticClass:"categories"},[i("div",{staticClass:"categories_top"},[i("div",{staticClass:"top_title"},[t._v("对应系列")]),t._v(" "),i("el-input",{attrs:{placeholder:"添加系列"},model:{value:t.inputb,callback:function(e){t.inputb=e},expression:"inputb"}}),t._v(" "),i("el-button",{staticClass:"add_btn",on:{click:t.handleAddSeries}},[t._v("+")])],1),t._v(" "),i("div",{staticClass:"categories_bottom"},[i("el-radio-group",{on:{change:function(e){t.twoLevelBtm(e)}},model:{value:t.twoLevelRadio,callback:function(e){t.twoLevelRadio=e},expression:"twoLevelRadio"}},t._l(t.twoLevelDirectory,function(e,a){return i("div",{key:a,staticClass:"plate_list"},[i("el-radio-button",{attrs:{label:e}},[t._v(t._s(e.name))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.handleModify(e,"系列")}}},[t._v("修改")])],1)}))],1)]),t._v(" "),i("div",{staticClass:"categories"},[i("div",{staticClass:"categories_top"},[i("div",{staticClass:"top_title"},[t._v("对应配置")]),t._v(" "),i("el-input",{attrs:{placeholder:"添加配置"},model:{value:t.inputc,callback:function(e){t.inputc=e},expression:"inputc"}}),t._v(" "),i("el-button",{staticClass:"add_btn",on:{click:t.handleAddConfig}},[t._v("+")])],1),t._v(" "),i("div",{staticClass:"categories_bottom"},[i("el-radio-group",{on:{change:function(e){t.threeLevelBtm(e)}},model:{value:t.threeLevelRadio,callback:function(e){t.threeLevelRadio=e},expression:"threeLevelRadio"}},t._l(t.threeLevelDirectory,function(e,a){return i("div",{key:a,staticClass:"plate_list"},[i("el-radio-button",{attrs:{label:e}},[t._v(t._s(e.name))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.handleModify(e,"配置")}}},[t._v("修改")])],1)}))],1)])])]),t._v(" "),i("el-dialog",{attrs:{visible:t.modifyVisible,width:"470px","custom-class":"RemarksDialog"},on:{"update:visible":function(e){t.modifyVisible=e}}},[i("span",{staticClass:"RemarksDialog_title",attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"iconfont icon-edit-square"}),t._v("修改")]),t._v(" "),i("div",{staticClass:"RemarksDialog_main"},[i("p",[t._v("名称：")]),t._v(" "),i("el-input",{attrs:{placeholder:"输入类别名称"},model:{value:t.categoryName,callback:function(e){t.categoryName=e},expression:"categoryName"}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.modifyVisible=!1}}},[t._v("关 闭")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handlePrimary}},[t._v("提 交")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("p",[this._v("适用车型管理")])])}]};var l=i("VU/8")(s,n,!1,function(t){i("FPD5")},null,null);e.default=l.exports}});
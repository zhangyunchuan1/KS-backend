webpackJsonp([8],{"46eT":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MDBlYTgxNC1iODk3LTEwNGQtYjdlZi0yYTNmMzlmMTAwNzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjEyNkM0RUFDQjVDMTFFOEJFNzZGRTMwMkU1OUU0OUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjEyNkM0RTlDQjVDMTFFOEJFNzZGRTMwMkU1OUU0OUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpkODljM2NkNC05OWQ2LTYwNDQtOTdlZC1lOGEwYTBiMmI1ZDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjAwZWE4MTQtYjg5Ny0xMDRkLWI3ZWYtMmEzZjM5ZjEwMDc5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jl4FmwAAAThJREFUeNqM0j1LAzEYwPHcUUGsY5FSEIQO0t3B3VrUGzrZUedufhR3B+sgnQRHEV0c6qCjohSpCr5ULd10qp7/1CcQY1IM/ELenudySVSapsqxjEN08ChucYTEXe8G68APNFFDSaxiF+84DiUwXyp4dmXkcYOum+AE/RGBrle0TIKF9KdMehaWUfGMZyWmElGdK6U6qKm/5RRjmPPMNTEbU02jofzlGu3A3A4KGaovXFgTZdSlPY8Ie9LfwoG0LzHISCe2EsSybSXBdt9e9zms5UqSwGlvy/2rwAF3dcYHrAX+syR8ZR0vOtOiXMmE5ytLWPGMj0tMYgZa8jj++5CecOY+ZX0WbUyNCMzhCj0zZp9qHs+4k3dRRVFUZeweb8iZoGi4jd9FL97ADMw1DyR4E/v24m8BBgC5GPMd9x0tDQAAAABJRU5ErkJggg=="},Aa5a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),l={name:"RecruitJobManagement",components:{BreadCrumb:i("ZPfm").a},data:function(){return{value2:"",addVisible:!1,modifyVisible:!1,breadData:[{id:1,name:"招聘",urls:"/index",icon:"icon-home"},{id:2,name:"职位管理",urls:"/index/RecruitJobManagement",icon:"icon-home"}],status_wen:"来得及福利费",slist:[],searchlist:[],ss:[],selectedlist:{},selected:"",list:[],jobName:"",salary:"",jobDescription:"",endTime:"",city:"",limit:"",time:"",requirement:"无",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},code:"",poindex:null,jobId:null,cityData:[]}},mounted:function(){this.getJobList()},methods:{getJobList:function(){var t=this;this.HttpClient.post("/admin/position/getList",{}).then(function(e){console.log(e),t.slist=e.data.data})},dd:function(){var t=new Date(this.endTime),e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.time=e+" 00:00:00"},setSlist:function(t){this.slist=JSON.parse(s()(t))},add:function(){var t=this;this.addVisible=!0,this.jobName="",this.salary="",this.jobDescription="",this.endTime="",this.city="",this.limit="",this.HttpClient.get("/city/getAllCities").then(function(e){200==e.data.code&&e.data.data.forEach(function(e){e.child.forEach(function(e){t.cityData.push(e)})})})},sure:function(){var t=this;this.addVisible=!1,this.HttpClient.post("/admin/position/create",{department_id:1,name:this.jobName,description:this.jobDescription,requirement:this.requirement,limit:this.limit,end_time:this.time,price:this.salary,province:this.city}).then(function(e){console.log(e),200==e.data.code&&(t.$message.success(e.data.msg),setTimeout(function(){t.getJobList()},500))}).catch(function(t){console.log("请求失败")})},handleDelete:function(t){var e=this;this.HttpClient.post("/admin/position/destroy",{id:t.id}).then(function(t){console.log(t.data),e.code=t.data.code,200==e.code?(e.$message.success(t.data.msg),setTimeout(function(){e.getJobList()},500)):e.$message.warning(t.data.msg)}).catch(function(t){console.log("请求失败")})},handleOpen:function(t){var e=this;t.status,this.HttpClient.post("/admin/position/changeStatus",{id:t.id}).then(function(t){console.log(t),200==t.data.code&&(e.$message.success(t.data.msg),setTimeout(function(){e.getJobList()},500))}).catch(function(t){console.log("请求失败")})},handleModify:function(t){console.log(t),this.poindex=t.department_id,this.jobId=t.id,this.jobName=t.name,this.salary=t.price,this.jobDescription=t.description,this.endTime=t.end_time,this.city=t.province,this.limit=t.limit,this.modifyVisible=!0},handleSave:function(){var t=this;this.HttpClient.post("/admin/position/edit",{id:this.jobId,department_id:this.poindex,name:this.jobName,description:this.jobDescription,requirement:"无",limit:this.limit}).then(function(e){console.log(e),200===e.data.code?(t.$message.success(e.data.msg),t.getJobList(),t.modifyVisible=!1):t.$message.error(e.data.msg)})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"RecruitJobManagement"},[i("BreadCrumb",{staticClass:"bread",attrs:{breadData:t.breadData}}),t._v(" "),i("div",{staticClass:"content"},[i("p",{staticClass:"title"},[t._v("职位管理")]),t._v(" "),i("div",{staticClass:"content_contain"},[i("div",{staticClass:"hd"},[i("div",{staticClass:"right",on:{click:function(e){t.add()}}},[t._m(0),t._v(" "),i("div",{staticClass:"ri-right"},[t._v("创建职位")])])]),t._v(" "),i("div",{staticClass:"tables"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.slist,border:"",stripe:!0,"header-row-style":{height:"40px"},"header-cell-style":{padding:0},"row-style":{height:"40px"},"cell-style":{padding:0}}},[i("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"职位",width:"250"}}),t._v(" "),i("el-table-column",{attrs:{prop:"province",label:"城市","min-width":"250"}}),t._v(" "),i("el-table-column",{attrs:{prop:"end_time",label:"申请截止时间",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"limit",label:"岗位空缺人数",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"current",label:"当前申请人数",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?i("span",{staticStyle:{color:"#15bafe"}},[t._v("正在招聘")]):t._e(),t._v(" "),0===e.row.status?i("span",{staticStyle:{color:"red"}},[t._v("停止招聘")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(i){t.handleModify(e.row)}}},[t._v("编辑")]),t._v(" "),1===e.row.status?i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(i){t.handleOpen(e.row)}}},[t._v("禁用")]):t._e(),t._v(" "),0===e.row.status?i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(i){t.handleOpen(e.row)}}},[t._v("启用")]):t._e(),t._v(" "),i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(i){t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1)],1)])]),t._v(" "),i("el-dialog",{attrs:{visible:t.addVisible,width:"515px"},on:{"update:visible":function(e){t.addVisible=e}}},[i("div",{staticClass:"dialog_delete_head_title",attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"iconfont icon-edit-square delete_icon"}),t._v(" "),i("span",[t._v("创建新职位")])]),t._v(" "),i("div",{staticClass:"neir"},[i("p",[t._v("职位名称")]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.jobName,callback:function(e){t.jobName=e},expression:"jobName"}}),t._v(" "),i("p",[t._v("薪资待遇")]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.salary,callback:function(e){t.salary=e},expression:"salary"}}),t._v(" "),i("p",[t._v("职位描述")]),t._v(" "),i("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"100字内介绍"},model:{value:t.jobDescription,callback:function(e){t.jobDescription=e},expression:"jobDescription"}}),t._v(" "),i("div",{staticClass:"bott"},[i("div",{staticClass:"bot-left"},[i("div",[i("p",[t._v("报名截止时间")]),t._v(" "),i("div",{staticClass:"end"},[i("span",[t._v("截止")]),t._v(" "),i("el-date-picker",{staticClass:"inputdata",attrs:{type:"date",placeholder:"选择日期",change:t.dd()},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),t._v(" "),i("div",[i("p",[t._v("城市")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityData,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)]),t._v(" "),i("div",{staticClass:"bot-rigth"},[i("p",[t._v("空缺人数")]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1)]),t._v(" "),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sure()}}},[t._v("确定")]),t._v(" "),i("el-button",[t._v("取消")])],1)],1)]),t._v(" "),i("el-dialog",{attrs:{visible:t.modifyVisible,width:"515px"},on:{"update:visible":function(e){t.modifyVisible=e}}},[i("div",{staticClass:"dialog_delete_head_title",attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"iconfont icon-edit-square delete_icon"}),t._v(" "),i("span",[t._v("修改职位")])]),t._v(" "),i("div",{staticClass:"neir"},[i("p",[t._v("职位名称")]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.jobName,callback:function(e){t.jobName=e},expression:"jobName"}}),t._v(" "),i("p",[t._v("薪资待遇")]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.salary,callback:function(e){t.salary=e},expression:"salary"}}),t._v(" "),i("p",[t._v("职位描述")]),t._v(" "),i("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"100字内介绍"},model:{value:t.jobDescription,callback:function(e){t.jobDescription=e},expression:"jobDescription"}}),t._v(" "),i("div",{staticClass:"bott"},[i("div",{staticClass:"bot-left"},[i("div",[i("p",[t._v("报名截止时间")]),t._v(" "),i("div",{staticClass:"end"},[i("span",[t._v("截止")]),t._v(" "),i("el-date-picker",{staticClass:"inputdata",attrs:{type:"date",placeholder:"选择日期",change:t.dd()},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),t._v(" "),i("div",[i("p",[t._v("城市")]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1)]),t._v(" "),i("div",{staticClass:"bot-rigth"},[i("p",[t._v("空缺人数")]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1)]),t._v(" "),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleSave()}}},[t._v("保存")]),t._v(" "),i("el-button",[t._v("取消")])],1)],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ri-left"},[e("img",{attrs:{src:i("46eT"),alt:""}})])}]};var o=i("VU/8")(l,n,!1,function(t){i("mh/r"),i("sYWn")},"data-v-1bbc65ce",null);e.default=o.exports},"mh/r":function(t,e){},sYWn:function(t,e){}});
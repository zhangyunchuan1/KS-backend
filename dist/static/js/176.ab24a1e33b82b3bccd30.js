webpackJsonp([176],{KdqH:function(t,e){},sWut:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"UserAttention",components:{BreadCrumb:a("ZPfm").a},data:function(){return{breadData:[{id:1,name:"用户管理",urls:"/index/standardUser/StandardUser",icon:"icon-home"},{id:2,name:"用户数据",urls:"/index/standardUser/userData/UserData",icon:"icon-home"},{id:3,name:"用户关注",urls:"/index/standardUser/userData/UserAttention",icon:"icon-home"}],nickNameSearch:"",tableData:[],titleName:"",viewFansDialog:!1,fansLsit:[],viewMasterDialog:!1,masterList:[],total:null,currentPage:1,fansTotal:null,fansCurrentPage:1,masterTotal:null,masterCurrentPage:1}},mounted:function(){this.getUserFollowList()},methods:{handleSeeMaster:function(t){this.titleName=t.nickname,this.getMasterList(t.uid),this.viewMasterDialog=!0},getMasterList:function(t){var e=this;this.HttpClient.post("/admin/follow/lists",{page:this.masterCurrentPage,size:25,uid:t,type:!1}).then(function(t){console.log(t),e.masterList=t.data.data.data,e.masterTotal=t.data.data.total})},handleSeeApprentice:function(t){this.titleName=t.nickname,this.getApprenticeList(t.uid),this.viewFansDialog=!0},getApprenticeList:function(t){var e=this;this.HttpClient.post("/admin/follow/lists",{page:this.fansCurrentPage,size:25,uid:t,type:!0}).then(function(t){console.log(t),e.fansLsit=t.data.data.data,e.fansTotal=t.data.data.total})},handleNickNameSearch:function(){this.getUserFollowList()},getUserFollowList:function(){var t=this;this.HttpClient.post("/admin/follow/userLists",{size:25,page:this.currentPage,nickname:this.nickNameSearch}).then(function(e){console.log(e),200===e.data.code&&(t.tableData=e.data.data.data,t.total=e.data.data.total,t.nickNameSearch="")})},currentChange:function(t){this.currentPage=t,this.getUserFollowList()},fansCurrentChange:function(t){this.fansCurrentPage=t,this.getApprenticeList()},masterCurrentChange:function(t){this.masterCurrentPage=t,this.getMasterList()}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userAttention"},[a("BreadCrumb",{staticClass:"bread",attrs:{breadData:t.breadData}}),t._v(" "),a("div",{staticClass:"userAttention_main"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content_header"},[a("div",{staticClass:"content_header_search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"昵称搜索"},model:{value:t.nickNameSearch,callback:function(e){t.nickNameSearch=e},expression:"nickNameSearch"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleNickNameSearch},slot:"append"})],1)],1)]),t._v(" "),a("div",{staticClass:"content_table"},[a("el-table",{attrs:{data:t.tableData,border:!0}},[a("el-table-column",{attrs:{label:"用户ID",align:"center",width:"100",prop:"id",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"用户昵称",align:"center",width:"220","show-overflow-tooltip":"",prop:"nickname"}}),t._v(" "),a("el-table-column",{attrs:{label:"学徒人数",align:"center","show-overflow-tooltip":"",width:"140",prop:"focus",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"师傅数量",align:"center","show-overflow-tooltip":"",width:"140",prop:"follow",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"登陆状态",align:"center",width:"140",prop:"status","show-overflow-tooltip":"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("span",[t._v("正常")]):t._e(),t._v(" "),3===e.row.status?a("span",[t._v("禁用")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"280","class-name":"table_scope"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"scope_btm"},[a("el-button",{attrs:{size:"medium",type:"text"},on:{click:function(a){t.handleSeeApprentice(e.row)}}},[t._v("查看学徒")]),t._v(" "),a("el-button",{attrs:{size:"medium",type:"text"},on:{click:function(a){t.handleSeeMaster(e.row)}}},[t._v("查看师傅")]),t._v(" "),a("el-button",{attrs:{size:"medium",type:"text"}},[t._v("用户页面")])],1)]}}])})],1),t._v(" "),t.total?a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":25},on:{"current-change":t.currentChange}}):t._e()],1)])]),t._v(" "),a("el-dialog",{attrs:{width:"550px","custom-class":"viewDialog",visible:t.viewFansDialog},on:{"update:visible":function(e){t.viewFansDialog=e}}},[a("span",{staticClass:"viewDialog_title",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"iconfont icon-team"}),t._v("查看徒弟 - "+t._s(t.titleName))]),t._v(" "),a("div",{staticClass:"view_dialog_box"},t._l(t.fansLsit,function(e,s){return a("el-button",{key:s},[t._v(t._s(e.nickname))])})),t._v(" "),a("div",{staticClass:"fenye"},[t.fansTotal?a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.fansTotal,"page-size":25},on:{"current-change":t.fansCurrentChange}}):t._e()],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.viewFansDialog=!1}}},[t._v("关 闭")])],1)]),t._v(" "),a("el-dialog",{attrs:{width:"550px","custom-class":"viewDialog",visible:t.viewMasterDialog},on:{"update:visible":function(e){t.viewMasterDialog=e}}},[a("span",{staticClass:"viewDialog_title",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"iconfont icon-team"}),t._v("查看师傅 - "+t._s(t.titleName))]),t._v(" "),a("div",{staticClass:"view_dialog_box"},t._l(t.masterList,function(e,s){return a("div",{key:s},[1===e.type?a("el-button",{staticClass:"merchant",attrs:{type:"primary"}},[t._v(t._s(e.nickname))]):t._e(),t._v(" "),2===e.type?a("el-button",{staticClass:"user"},[t._v(t._s(e.nickname))]):t._e()],1)})),t._v(" "),a("div",{staticClass:"fenye"},[t.masterTotal?a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.masterTotal,"page-size":25},on:{"current-change":t.masterCurrentChange}}):t._e()],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.viewMasterDialog=!1}}},[t._v("关 闭")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("p",[this._v("用户关注")])])}]};var i=a("VU/8")(s,n,!1,function(t){a("KdqH")},null,null);e.default=i.exports}});
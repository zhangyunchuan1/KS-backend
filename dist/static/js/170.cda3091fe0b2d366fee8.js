webpackJsonp([170],{"Hs/Y":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={name:"MerchantFan",components:{BreadCrumb:e("ZPfm").a},data:function(){return{breadData:[{id:1,name:"商家管理",urls:"/index/businessUser/BusinessUser",icon:"icon-home"},{id:2,name:"商家数据",urls:"/index/market/businessUser/merchantData/MerchantData",icon:"icon-home"},{id:3,name:"商家的关注者",urls:"/index/market/businessUser/merchantData/MerchantFan",icon:"icon-home"}],nickNameSearch:"",tableData:[],fansData:[],nickname:"",viewFansDialog:!1,currentPage:1,pageSize:25,total:0,dialogID:"",currentdialogPage:1,pageSizedialog:10,totaldialog:0}},mounted:function(){this.getlist()},methods:{getlist:function(){var t=this,a={nickname:this.nickNameSearch};this.HttpClient.post("/admin/follow/businessLists",a).then(function(a){200==a.data.code&&(console.log(a.data.data.data),t.tableData=a.data.data.data,t.total=a.data.data.total)})},viewFansFn:function(t){console.log(t),this.nickname=t.nickname,this.viewFansDialog=!0,this.dialogID=t.uid,this.getdialoglist()},getdialoglist:function(){var t=this,a={uid:this.dialogID,type:!0,size:this.pageSizedialog,page:this.currentdialogPage};this.HttpClient.post("/admin/follow/lists",a).then(function(a){console.log(a.data),200===a.data.code&&(t.fansData=a.data.data.data,console.log(t.fansData),t.totaldialog=a.data.data.total)})},nickNameSearchFn:function(){this.getlist()},handleFans:function(t){window.open(this.Urls.frontUrl+"home/others-users?uid="+t.uid)},viewShopFn:function(t){window.open(this.Urls.frontUrl+"home/others-users?uid="+t.uid)},currentChange:function(t){this.currentPage=t,this.getlist()},currentdialogChange:function(t){this.currentdialogPage=t,this.getdialoglist()}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"merchantFan"},[e("BreadCrumb",{staticClass:"bread",attrs:{breadData:t.breadData}}),t._v(" "),e("div",{staticClass:"merchantFan_main"},[t._m(0),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_header"},[e("div",{staticClass:"content_header_search"},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:"昵称搜索",clearable:""},on:{change:t.nickNameSearchFn},model:{value:t.nickNameSearch,callback:function(a){t.nickNameSearch=a},expression:"nickNameSearch"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.nickNameSearchFn},slot:"append"})],1)],1)]),t._v(" "),e("div",{staticClass:"content_table"},[e("el-table",{attrs:{data:t.tableData,border:!0}},[e("el-table-column",{attrs:{label:"商家ID",align:"center",width:"90",prop:"id",sortable:""}}),t._v(" "),e("el-table-column",{attrs:{label:"商家昵称",align:"center",width:"220","show-overflow-tooltip":"",prop:"nickname"}}),t._v(" "),e("el-table-column",{attrs:{label:"关注者人数",align:"center",width:"180",prop:"follow",sortable:""}}),t._v(" "),e("el-table-column",{attrs:{label:"性别比例",align:"center",width:"380"},scopedSlots:t._u([{key:"default",fn:function(a){return[0==a.row.follow?e("div",{staticClass:"sexRatio"},[e("p",[t._v("\n                  男性:\n                  "),e("span",[t._v("0%")])]),t._v(" "),e("p",[t._v("\n                  保密:\n                  "),e("span",[t._v("0%")])]),t._v(" "),e("p",[t._v("\n                  女性:\n                  "),e("span",[t._v("0%")])])]):e("div",{staticClass:"sexRatio"},[e("p",[t._v("\n                  男性:\n                  "),e("span",[t._v(t._s(a.row.fans_male/a.row.follow*100)+"%")])]),t._v(" "),e("p",[t._v("\n                  保密:\n                  "),e("span",[t._v(t._s(a.row.fans_other/a.row.follow*100)+"%")])]),t._v(" "),e("p",[t._v("\n                  女性:\n                  "),e("span",[t._v(t._s(a.row.fans_female/a.row.follow*100)+"%")])])])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"喜好",align:"center","show-overflow-tooltip":"",width:"400",prop:"like"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"sexRatio"},[e("p",[t._v("\n                  文章:\n                  "),e("span",[t._v(t._s(a.row.article_percent)+"%")])]),t._v(" "),e("p",[t._v("\n                  视频:\n                  "),e("span",[t._v(t._s(a.row.video_percent)+"%")])]),t._v(" "),e("p",[t._v("\n                  百科:\n                  "),e("span",[t._v(t._s(a.row.encyc_percent)+"%")])]),t._v(" "),e("p",[t._v("\n                  问题:\n                  "),e("span",[t._v(t._s(a.row.question_percent)+"%")])])])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center","class-name":"mallReview_scope"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"scope_btm"},[e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){t.viewFansFn(a.row)}}},[t._v("查看关注者")]),t._v(" "),e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){t.viewShopFn(a.row)}}},[t._v("商家页面")])],1)]}}])})],1),t._v(" "),t.total?e("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":t.pageSize},on:{"current-change":t.currentChange}}):t._e()],1)])]),t._v(" "),e("el-dialog",{attrs:{width:"550px","custom-class":"viewFansDialog",visible:t.viewFansDialog},on:{"update:visible":function(a){t.viewFansDialog=a}}},[e("span",{staticClass:"viewFansDialog_title",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"iconfont icon-team"}),t._v("\n      查看关注者 - "+t._s(t.nickname)+"\n    ")]),t._v(" "),e("div",{staticClass:"viewFans_dialog_box"},t._l(t.fansData,function(a,n){return e("p",{key:n,on:{click:function(e){t.handleFans(a)}}},[t._v(t._s(a.nickname))])})),t._v(" "),t.totaldialog?e("el-pagination",{attrs:{layout:"prev, pager, next",total:t.totaldialog,"page-size":t.pageSize},on:{"current-change":t.currentdialogChange}}):t._e(),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.viewFansDialog=!1}}},[t._v("关 闭")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"title"},[a("p",[this._v("商家的关注者")])])}]};var s=e("VU/8")(n,i,!1,function(t){e("o6zb")},null,null);a.default=s.exports},o6zb:function(t,a){}});